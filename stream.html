<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stream Live TV | Wiseworx Digital</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <header class="header">
    <div class="container">
      <div class="logo">
        <object data="images/logo.svg" type="image/svg+xml" width="180"></object>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="rent.html">Rent a Box</a>
        <a href="shop.html">Buy TVs</a>
        <a href="stream.html" class="active">Stream Online</a>
        <a href="login.html">Login</a>
      </nav>
    </div>
  </header>

  <section class="hero" style="padding:100px 0;text-align:center;">
    <div class="container">
      <h1>ðŸ“º Live TV Player</h1>
      <p class="tagline">Watch SABC, e.tv, BBC, and more â€” no app needed.</p>
    </div>
  </section>

  <section class="services" style="padding:80px 0;">
    <div class="container">
      <div class="service-card">
        <h3>ðŸ“¡ Channel: SABC 1</h3>
        <video-js id="iptv-player" controls width="100%" height="500" class="vjs-default-skin"></video-js>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <object data="images/logo.svg" type="image/svg+xml" width="160"></object>
        <p>&copy; 2025 Wiseworx Digital. All rights reserved.</p>
      </div>
      <div class="footer-contact">
        <p>ðŸ“ž 083 725 4362</p>
        <p>ðŸ“§ WiseWorks25@gmail.com</p>
      </div>
    </div>
  </footer>

  <script src="https://vjs.zencdn.net/8.0.4/video.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script>
    const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";
    if (!isLoggedIn) {
      alert("Please log in to access the stream.");
      window.location.href = "login.html";
    } else {
      const player = videojs('iptv-player');
      const streamUrl = 'http://45.155.90.52/live/play/VVU5VWJXOxBTVWx3YzA1aVNqQjZiRE5uY2xvM1oxQm5ZbmxLV0RsdFpFNVdOVFo0ZWxWTGRYVktSVDA9/2541';

      if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(streamUrl);
        hls.attachMedia(player.tech({ IWillNotUseInsecureEndpoints: true }).el());
      } else if (player.tech().el().canPlayType('application/vnd.apple.mpegurl')) {
        player.src({ src: streamUrl, type: 'application/vnd.apple.mpegurl' });
      }

      player.play();
    }
  </script>
</body>
</html>
